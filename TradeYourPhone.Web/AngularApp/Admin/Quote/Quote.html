<h2 class="admin-heading">Quote {{quoteDetailsViewModel.Quote.QuoteReferenceId}} Details</h2>
<p class="admin-back">
    <a href="/Admin/Quotes"><i class="fa fa-hand-o-left"></i>   Back To Quotes</a>
</p>
<span ng-show="spinner"><i class="loading fa fa-cog fa-spin"></i></span>
<div ng-class="{'content-loading':spinner}">
    <div class="row">
        <div class="col-md-3">
            <h2 class="admin-heading">Quote</h2>
            <div class="form-group">
                <label class="control-label">Quote Status</label>
                <select ng-model="quoteDetailsViewModel.Quote.QuoteStatusId"
                        id="status"
                        name="status"
                        ng-options="item.ID as item.Name for item in quoteDetailsViewModel.QuoteStatuses"
                        class="form-control"></select>
            </div>

            <div class="form-group">
                <label class="control-label">Postage Method</label>
                <select ng-model="quoteDetailsViewModel.Quote.PostageMethodId"
                        id="status"
                        name="status"
                        ng-options="item.Id as item.PostageMethodName for item in quoteDetailsViewModel.PostageMethods"
                        class="form-control"></select>
            </div>

            <div class="form-group">
                <label class="control-label">Quote Reference ID</label>
                <p class="form-control-static">
                    {{quoteDetailsViewModel.Quote.QuoteReferenceId}}
                </p>
            </div>

            <div class="form-group">
                <label class="control-label">Created Date</label>
                <p class="form-control-static">
                    {{quoteDetailsViewModel.Quote.CreatedDate}}
                </p>
            </div>

            <div class="form-group">
                <label class="control-label">Finalised Date</label>
                <p class="form-control-static">
                    {{quoteDetailsViewModel.Quote.QuoteFinalisedDate}}
                </p>
            </div>

            <div class="form-group">
                <label class="control-label">Expiry Date</label>
                <p class="form-control-static">
                    {{quoteDetailsViewModel.Quote.QuoteExpiryDate}}
                </p>
            </div>
        </div>
        <div class="col-md-3">
            <h3 class="admin-heading">Customer</h3>
            <div class="form-group">
                <label class="control-label">Full Name</label>
                <input type="text"
                       id="FullName"
                       ng-model="quoteDetailsViewModel.Quote.Customer.FullName"
                       name="FullName"
                       class="form-control" />
            </div>

            <div class="form-group">
                <label class="control-label">Email</label>
                <input type="email"
                       id="Email"
                       ng-model="quoteDetailsViewModel.Quote.Customer.Email"
                       name="Email"
                       class="form-control" />
            </div>

            <div class="form-group">
                <label class="control-label">Phone Number</label>
                <input type="text"
                       id="PhoneNumber"
                       ng-model="quoteDetailsViewModel.Quote.Customer.PhoneNumber"
                       name="PhoneNumber"
                       class="form-control" />
            </div>
        </div>
        <div class="col-md-3">
            <h3 class="admin-heading">Address</h3>
            <div class="form-group">
                <label class="control-label">Address Line 1</label>
                <input type="text"
                       id="AddressLine1"
                       ng-model="quoteDetailsViewModel.Quote.Customer.Address.AddressLine1"
                       name="AddressLine1"
                       class="form-control" />
            </div>

            <div class="form-group">
                <label class="control-label">Address Line 2</label>
                <input type="text"
                       id="AddressLine2"
                       ng-model="quoteDetailsViewModel.Quote.Customer.Address.AddressLine2"
                       name="AddressLine2"
                       class="form-control" />
            </div>

            <div class="form-group">
                <label class="control-label">State</label>
                <select ng-model="quoteDetailsViewModel.Quote.Customer.Address.StateId"
                        id="StateId"
                        name="StateId"
                        ng-options="item.ID as item.StateNameShort for item in quoteDetailsViewModel.States"
                        class="form-control"></select>
            </div>

            <div class="form-group">
                <label class="control-label">Post Code</label>
                <input type="text"
                       id="PostCode"
                       ng-model="quoteDetailsViewModel.Quote.Customer.Address.PostCode"
                       name="PostCode"
                       class="form-control" />
            </div>

            <div class="form-group">
                <label class="control-label">Country</label>
                <select ng-model="quoteDetailsViewModel.Quote.Customer.Address.CountryId"
                        id="CountryId"
                        name="CountryId"
                        ng-options="item.ID as item.CountryName for item in quoteDetailsViewModel.Countries"
                        class="form-control"></select>
            </div>

            <div class="form-group">
                <label class="control-label">Tracking Number</label>
                <input type="text"
                       id="TrackingNumber"
                       ng-model="quoteDetailsViewModel.Quote.TrackingNumber"
                       name="TrackingNumber"
                       class="form-control" />
                <a ng-show="quoteDetailsViewModel.Quote.TrackingNumber" target="_blank" ng-href="http://auspost.com.au/track/track.html?id={{quoteDetailsViewModel.Quote.TrackingNumber}}">View Tracking Info</a>
            </div>
        </div>
        <div class="col-md-3">
            <h3 class="admin-heading">Payment Details</h3>
            <div class="form-group">
                <label class="control-label">Payment Type</label>
                <select ng-model="quoteDetailsViewModel.Quote.Customer.PaymentDetail.PaymentTypeId"
                        id="PaymentTypeId"
                        name="PaymentTypeId"
                        ng-options="item.ID as item.PaymentTypeName for item in quoteDetailsViewModel.PaymentTypes"
                        class="form-control"></select>
            </div>

            <div class="form-group">
                <label class="control-label">BSB</label>
                <input type="text"
                       id="BSB"
                       ng-model="quoteDetailsViewModel.Quote.Customer.PaymentDetail.BSB"
                       name="BSB"
                       class="form-control" />
            </div>

            <div class="form-group">
                <label class="control-label">Account Number</label>
                <input type="text"
                       id="AccountNumber"
                       ng-model="quoteDetailsViewModel.Quote.Customer.PaymentDetail.AccountNumber"
                       name="AccountNumber"
                       class="form-control" />
            </div>

            <div class="form-group">
                <label class="control-label">Paypal Email</label>
                <input type="text"
                       id="PaypalEmail"
                       ng-model="quoteDetailsViewModel.Quote.Customer.PaymentDetail.PaypalEmail"
                       name="PaypalEmail"
                       class="form-control" />
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <div class="form-group">
                    <label class="control-label">Notes</label>
                    <br />
                    <textarea type="text"
                              id="PaypalEmail"
                              ng-model="quoteDetailsViewModel.Quote.Notes"
                              name="PaypalEmail"
                              class="form-control quote-notes"
                              cols="80"
                              rows="5" />
                </div>
            </div>
        </div>
    </div>

    <div class="row">
            <div class="col-md-12">
                <h2 class="admin-heading">Phones</h2>
                <hr />
                <div ng-repeat="phone in quoteDetailsViewModel.Quote.Phones">
                    <h3 class="admin-heading">Phone {{$index+1}}</h3>
                    <div class="row">

                    <div class="form-group col-md-1">
                        <label class="control-label">ID</label>
                        <p class="col-md-12">
                            <a ng-href="/Admin/Phone/{{phone.Id}}">{{phone.Id}}</a>
                        </p>
                    </div>
                    <div class="form-group col-md-2">
                        <label class="control-label">Status</label>
                        <select ng-model="phone.PhoneStatusId"
                                id="PhoneStatusId"
                                name="PhoneStatusId"
                                ng-options="item.ID as item.Name for item in quoteDetailsViewModel.PhoneStatuses"
                                class="form-control"></select>
                    </div>
                          
                    <div class="form-group col-md-2">
                        <label class="control-label">Phone Model</label>
                        <select ng-model="phone.PhoneModelId"
                                id="PhoneModelId"
                                name="PhoneModelId"
                                ng-options="item.ID as item.Name for item in quoteDetailsViewModel.PhoneModels"
                                class="form-control"></select>
                    </div>

                    <div class="form-group col-md-1">
                        <label class="control-label">Condition</label>
                        <select ng-model="phone.PhoneConditionId"
                                id="PhoneConditionId"
                                name="PhoneConditionId"
                                ng-options="item.ID as item.Name for item in quoteDetailsViewModel.Conditions"
                                class="form-control"></select>
                    </div>

                    <div class="form-group col-md-2">
                        <label class="control-label">IMEI</label>
                        <input type="text"
                                id="IMEI"
                                ng-model="phone.IMEI"
                                name="IMEI"
                                   class="form-control" />
                    </div>

                    <div class="form-group col-md-2">
                        <label class="control-label">Purchase Price</label>
                        <input type="text"
                                id="PurchaseAmount"
                                ng-model="phone.PurchaseAmount"
                                name="PurchaseAmount"
                                   class="form-control" />
                    </div>

                    <div class="form-group col-md-2">
                        <label class="control-label">Sale Price</label>
                        <input type="text"
                                id="SaleAmount"
                                ng-model="phone.SaleAmount"
                                name="SaleAmount"
                                   class="form-control" />
                        </div>

                    </div>
                    <div class="row checklist">
                        <accordion>
                        <accordion-group is-open="checklist.open">
                            <accordion-heading>
                                <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': checklist.open, 'glyphicon-chevron-right': !checklist.open}"></i>
                                <i class="fa fa-check-square-o"></i>   Phone Checklist
                            </accordion-heading>

                            <div class="form-group col-md-2">
                                <label class="control-label">Phone Reset?</label>

                                <div class="btn-group btn-radio">
                                    <button class="btn btn-default checklist-btn"
                                            type="button"
                                            ng-model="QuotePhone.Reset"
                                            btn-radio="'Yes'">
                                        Yes
                                    </button>
                                    <button class="btn btn-default checklist-btn"
                                            type="button"
                                            ng-model="QuotePhone.Reset"
                                            btn-radio="'No'">
                                        No
                                    </button>
                                </div>
                            </div>

                            <div class="form-group col-md-2">
                                <label class="control-label">Phone Unblocked?</label>

                                <div class="btn-group btn-radio">
                                    <button class="btn btn-default checklist-btn"
                                            type="button"
                                            ng-model="QuotePhone.Unblocked"
                                            btn-radio="'Yes'">
                                        Yes
                                    </button>
                                    <button class="btn btn-default checklist-btn"
                                            type="button"
                                            ng-model="QuotePhone.Unblocked"
                                            btn-radio="'No'">
                                        No
                                    </button>
                                </div>
                            </div>

                            <div class="form-group col-md-2">
                                <label class="control-label">Correct Capacity?</label>

                                <div class="btn-group btn-radio">
                                    <button class="btn btn-default checklist-btn"
                                            type="button"
                                            ng-model="QuotePhone.Capacity"
                                            btn-radio="'Yes'">
                                        Yes
                                    </button>
                                    <button class="btn btn-default checklist-btn"
                                            type="button"
                                            ng-model="QuotePhone.Capacity"
                                            btn-radio="'No'">
                                        No
                                    </button>
                                </div>
                            </div>

                            <div class="form-group col-md-2">
                                <label class="control-label">All Buttons Work?</label>

                                <div class="btn-group btn-radio">
                                    <button class="btn btn-default checklist-btn"
                                            type="button"
                                            ng-model="QuotePhone.Buttons"
                                            btn-radio="'Yes'">
                                        Yes
                                    </button>
                                    <button class="btn btn-default checklist-btn"
                                            type="button"
                                            ng-model="QuotePhone.Buttons"
                                            btn-radio="'No'">
                                        No
                                    </button>
                                </div>
                            </div>

                            <div class="form-group col-md-2">
                                <label class="control-label">Wifi Connects?</label>

                                <div class="btn-group btn-radio">
                                    <button class="btn btn-default checklist-btn"
                                            type="button"
                                            ng-model="QuotePhone.Wifi"
                                            btn-radio="'Yes'">
                                        Yes
                                    </button>
                                    <button class="btn btn-default checklist-btn"
                                            type="button"
                                            ng-model="QuotePhone.Wifi"
                                            btn-radio="'No'">
                                        No
                                    </button>
                                </div>
                            </div>

                            <div class="form-group col-md-2">
                                <label class="control-label">All Cameras Work?</label>

                                <div class="btn-group btn-radio">
                                    <button class="btn btn-default checklist-btn"
                                            type="button"
                                            ng-model="QuotePhone.Camera"
                                            btn-radio="'Yes'">
                                        Yes
                                    </button>
                                    <button class="btn btn-default checklist-btn"
                                            type="button"
                                            ng-model="QuotePhone.Camera"
                                            btn-radio="'No'">
                                        No
                                    </button>
                                </div>
                            </div>

                            <div class="form-group col-md-2">
                                <label class="control-label">Sound?</label>

                                <div class="btn-group btn-radio">
                                    <button class="btn btn-default checklist-btn"
                                            type="button"
                                            ng-model="QuotePhone.Sound"
                                            btn-radio="'Yes'">
                                        Yes
                                    </button>
                                    <button class="btn btn-default checklist-btn"
                                            type="button"
                                            ng-model="QuotePhone.Sound"
                                            btn-radio="'No'">
                                        No
                                    </button>
                                </div>
                            </div>


                            <div class="form-group col-md-2">
                                <label class="control-label">Headphones?</label>

                                <div class="btn-group btn-radio">
                                    <button class="btn btn-default checklist-btn"
                                            type="button"
                                            ng-model="QuotePhone.Headphones"
                                            btn-radio="'Yes'">
                                        Yes
                                    </button>
                                    <button class="btn btn-default checklist-btn"
                                            type="button"
                                            ng-model="QuotePhone.Headphones"
                                            btn-radio="'No'">
                                        No
                                    </button>
                                </div>
                            </div>


                            <div class="form-group col-md-2">
                                <label class="control-label">Charges?</label>

                                <div class="btn-group btn-radio">
                                    <button class="btn btn-default checklist-btn"
                                            type="button"
                                            ng-model="QuotePhone.Charges"
                                            btn-radio="'Yes'">
                                        Yes
                                    </button>
                                    <button class="btn btn-default checklist-btn"
                                            type="button"
                                            ng-model="QuotePhone.Charges"
                                            btn-radio="'No'">
                                        No
                                    </button>
                                </div>
                            </div>

                            <div class="form-group col-md-2">
                                <label class="control-label">Correct Condition?</label>

                                <div class="btn-group btn-radio">
                                    <button class="btn btn-default checklist-btn"
                                            type="button"
                                            ng-model="QuotePhone.Condition"
                                            btn-radio="'Yes'">
                                        Yes
                                    </button>
                                    <button class="btn btn-default checklist-btn"
                                            type="button"
                                            ng-model="QuotePhone.Condition"
                                            btn-radio="'No'">
                                        No
                                    </button>
                    </div>
            </div>
                   

                        </accordion-group>
                    </accordion>

        </div>
    </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-2">
            <div class="form-group">
                <br/>
                <input type="submit" value="Save" class="btn btn-default btn-admin" ng-click="SaveQuoteDetails(quoteDetailsViewModel.Quote)"/>
                <span ng-show="result">{{result}}</span>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-12">
            <h2 class="admin-heading">Quote Status History</h2>
            <table class="table">
                <thead>
                    <tr>
                        <th><label class="control-label">Status Date</label></th>
                        <th><label class="control-label">Status</label></th>
                        <th><label class="control-label">Created By</label></th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="quoteHistory in quoteDetailsViewModel.Quote.QuoteStatusHistories">
                        <td>
                            <span>{{quoteHistory.StatusDate}}</span>
                        </td>
                        <td>
                            <span>{{quoteHistory.QuoteStatus}}</span>
                        </td>
                        <td>
                            <span>{{quoteHistory.CreatedBy}}</span>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
